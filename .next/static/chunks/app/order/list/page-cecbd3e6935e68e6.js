(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{7148:(e,t,s)=>{Promise.resolve().then(s.bind(s,4447))},3518:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9688:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},4447:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),r=s(3312),l=s(3900),n=s(5564),i=s(7079),o=s(8467),d=s(890),c=s(1567),u=s(9468),p=s(7748),f=s(3765),h=s(8870),m=s(853),x=s(9688),v=s(2115);let g=[{id:"1",value:"All",label:"All"},{id:"2",value:"Completed",label:"Completed"},{id:"3",value:"Delivering",label:"Delivering"},{id:"4",value:"Pending",label:"Pending"}],b=()=>{var e;let{userId:t}=(0,o.F)(),{shopOrders:s,setFilters:b,page:j,setPage:N,totalCount:y,setTake:_}=(0,d.vh)(),A=Math.ceil(y/10),{data:w}=(0,h.IT)(i.T,{variables:{id:t}}),S=w?null===(e=w.users)||void 0===e?void 0:e[0]:[],[k,T]=(0,v.useState)("All"),[E,O]=(0,v.useState)("");(0,v.useEffect)(()=>{_(10),b({shop_id:S.shop_id||"",order_status:"All"===k?void 0:k,username:E})},[b,_,w,T,k,O,E]);let P=e=>{e||(0,n.oR)({description:"No data to export"});let t=e.map(e=>{let t=new Date(e.created_date);return{id:e.order_id,customer:e.username,total_price:e.shop_total_price,created_date:t.toLocaleString(),biling_address:e.billing_address,billin_phone_no:e.billing_phone_no,total_item:e.total_items,payment:e.payment}}),s=Object.keys(t[0]),a=new Blob([[s.join(","),...t.map(e=>s.map(t=>JSON.stringify(e[t]||"")).join(","))].join("\n")],{type:"text/csv"}),r=window.URL.createObjectURL(a),l=document.createElement("a");l.setAttribute("href",r),l.setAttribute("download","Orders.csv"),l.click()};return(0,a.jsxs)("section",{className:"w-full h-full flex flex-col gap-4 p-4",children:[(0,a.jsx)("h2",{className:"font-bold text-xl",children:"Orders"}),(0,a.jsxs)("div",{className:"min-h-24 w-full flex flex-row items-center justify-between",children:[(0,a.jsx)("div",{className:"flex flex-row items-center gap-4",children:g.map(e=>(0,a.jsx)("span",{onClick:()=>T(e.value),className:(0,c.cn)("hover:text-secondary_color hover:cursor-pointer",{"text-secondary_color":k===e.value,"text-secondary_color/55":k!==e.value}),children:e.label},e.id))}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.p,{value:E,onChange:e=>O(e.target.value),placeholder:"Search customers",className:"pl-10 py-4 w-[230px] border border-gray-400 focus-visible:ring-offset-0 focus-visible:ring-0"}),(0,a.jsx)("div",{className:"absolute top-2 left-2",children:(0,a.jsx)(m.A,{className:""})})]}),(0,a.jsxs)(r.$,{onClick:()=>P(s),className:"flex items-center min-h-10 bg-inputlabel rounded-md",children:["Export",(0,a.jsx)(x.A,{})]})]})]}),(0,a.jsx)(u.b,{data:s,columns:p.wW}),(0,a.jsx)(f.U,{totalPages:A,currentPage:j,onPageChange:e=>{N(e)}})]})}},3900:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155),r=s(2115),l=s(1567);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},5564:(e,t,s)=>{"use strict";s.d(t,{dj:()=>p,oR:()=>u});var a=s(2115);let r=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8467:(e,t,s)=>{"use strict";s.d(t,{AccountProvider:()=>i,F:()=>o});var a=s(5155),r=s(2115),l=s(1567);let n=(0,r.createContext)(null),i=e=>{let{children:t}=e,[s,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=(0,l.o)(e||"");console.log(t),t&&(d(t?t.role:""),u(t?t.id:"")),i(!!e)},[]),(0,a.jsx)(n.Provider,{value:{isLogin:s,role:o,setRole:d,setIsLogin:i,userId:c,setUserId:u},children:t})},o=()=>{let e=(0,r.useContext)(n);if(null===e)throw Error("useAccount must be used within a AccountProvider");return e}},3765:(e,t,s)=>{"use strict";s.d(t,{U:()=>m});var a=s(5155),r=s(2115),l=s(3518),n=s(6967),i=(s(4858),s(1567)),o=s(3312);let d=e=>{let{className:t,...s}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,i.cn)("mx-auto flex w-full justify-center",t),...s})};d.displayName="Pagination";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("ul",{ref:t,className:(0,i.cn)("flex flex-row items-center gap-1",s),...r})});c.displayName="PaginationContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("li",{ref:t,className:(0,i.cn)("",s),...r})});u.displayName="PaginationItem";let p=e=>{let{className:t,isActive:s,size:r="icon",...l}=e;return(0,a.jsx)("a",{"aria-current":s?"page":void 0,className:(0,i.cn)((0,o.r)({variant:s?"outline":"ghost",size:r}),t),...l})};p.displayName="PaginationLink";let f=e=>{let{className:t,...s}=e;return(0,a.jsxs)(p,{"aria-label":"Go to previous page",size:"default",className:(0,i.cn)("gap-1 pl-2.5",t),...s,children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Previous"})]})};f.displayName="PaginationPrevious";let h=e=>{let{className:t,...s}=e;return(0,a.jsxs)(p,{"aria-label":"Go to next page",size:"default",className:(0,i.cn)("gap-1 pr-2.5",t),...s,children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(n.A,{className:"h-4 w-4"})]})};function m(e){let{totalPages:t,currentPage:s,onPageChange:r}=e,l=1===s,n=s===t,o=e=>{e!==s&&r(e)},m=()=>{l||r(s-1)},x=()=>{n||r(s+1)};return(0,a.jsx)(d,{children:(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{children:(0,a.jsx)(f,{href:"#",onClick:e=>{e.preventDefault(),m()},isActive:l,className:(0,i.cn)("",{"cursor-not-allowed border-none text-muted-foreground hover:bg-transparent hover:text-muted-foreground":l}),children:"Previous"})}),(()=>{let e=[];for(let r=1;r<=t;r++)e.push((0,a.jsx)(u,{children:(0,a.jsx)(p,{href:"#",isActive:r===s,onClick:e=>{e.preventDefault(),o(r)},children:r})},r));return e})(),(0,a.jsx)(u,{children:(0,a.jsx)(h,{href:"#",onClick:e=>{e.preventDefault(),x()},className:(0,i.cn)("",{"cursor-not-allowed border-none text-muted-foreground hover:bg-transparent hover:text-muted-foreground":n}),children:"Next"})})]})})}h.displayName="PaginationNext"}},e=>{var t=t=>e(e.s=t);e.O(0,[586,913,147,785,813,558,899,441,517,358],()=>t(7148)),_N_E=e.O()}]);