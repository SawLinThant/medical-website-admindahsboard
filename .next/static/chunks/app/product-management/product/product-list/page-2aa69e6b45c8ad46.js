(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{1860:(e,t,a)=>{Promise.resolve().then(a.bind(a,4034))},4034:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(5155),s=a(3312),l=a(3900),n=a(7079),i=a(8467),d=a(890),o=a(9468),c=a(7748),u=a(3765),f=a(2115),p=a(7528);function x(e){let{options:t,label:a,setOption:s}=e;return(0,r.jsxs)(p.l6,{onValueChange:e=>{"all"===e?s("all"):s(JSON.parse(e))},children:[(0,r.jsx)(p.bq,{className:"w-[150px] border-gray-600",children:(0,r.jsx)(p.yv,{placeholder:a})}),(0,r.jsx)(p.gC,{children:(0,r.jsxs)(p.s3,{children:[(0,r.jsx)(p.TR,{children:a}),(0,r.jsx)(p.eb,{value:"all",children:"All"},1),t.map((e,t)=>(0,r.jsxs)(p.eb,{value:JSON.stringify(e),children:[e.start_price," ~ ",e.end_price]},t))]})})]})}var m=a(578),h=a(8870),g=a(9009),j=a(853),v=a(6046);let N=()=>{var e;let{products:t,setTake:a,setFilters:p,filters:N,page:b,setPage:w,totalCount:y}=(0,d.wz)(),P=(0,v.useRouter)(),{categories:C}=(0,d.E5)(),{priceRanges:A}=(0,d.C3)(),[R,k]=(0,f.useState)(""),[_,S]=(0,f.useState)("all"),[I,E]=(0,f.useState)(""),U=Math.ceil(y/10),{userId:z}=(0,i.F)(),{data:L}=(0,h.IT)(n.T,{variables:{id:z}}),O=L?null===(e=L.users)||void 0===e?void 0:e[0]:[];return(0,f.useEffect)(()=>{a(10),p({shop_id:O.shop_id||"",name:I,category:"all"===R?void 0:R,priceRange:"all"===_?void 0:{start_price:_.start_price,end_price:_.end_price}})},[I,R,p,a,_,L]),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col gap-4 p-4",children:[(0,r.jsx)("h2",{className:"font-bold text-xl",children:"Products"}),(0,r.jsxs)("div",{className:"min-h-24 w-full flex flex-row items-center justify-between",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsxs)(s.$,{onClick:()=>P.push("/product-management/product/create-product"),className:"flex items-center min-h-10 bg-inputlabel rounded-md",children:[(0,r.jsx)(g.A,{color:"white"}),"Add New Product"]})}),(0,r.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.p,{value:I,onChange:e=>E(e.target.value),placeholder:"Search",className:"pl-10 py-4 w-[150px] border border-gray-400"}),(0,r.jsx)("div",{className:"absolute top-2 left-2",children:(0,r.jsx)(j.A,{className:""})})]}),(0,r.jsx)(m.A,{setOption:k,options:C,label:"Sort By"}),(0,r.jsx)(x,{setOption:S,options:A,label:"Price Range"})]})]}),(0,r.jsx)(o.b,{data:t,columns:c.Nn}),(0,r.jsx)(u.U,{totalPages:U,currentPage:b,onPageChange:e=>{w(e)}})]})}},3900:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(5155),s=a(2115),l=a(1567);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},7528:(e,t,a)=>{"use strict";a.d(t,{TR:()=>g,bq:()=>p,eb:()=>j,gC:()=>h,l6:()=>c,s3:()=>u,yv:()=>f});var r=a(5155),s=a(2115),l=a(8092),n=a(1719),i=a(1902),d=a(8867),o=a(1567);let c=l.bL,u=l.YJ,f=l.WT,p=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=l.l9.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});m.displayName=l.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,r.jsx)(x,{}),(0,r.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(m,{})]})})});h.displayName=l.UC.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})});g.displayName=l.JU.displayName;let j=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]})});j.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.wv.displayName},8467:(e,t,a)=>{"use strict";a.d(t,{AccountProvider:()=>i,F:()=>d});var r=a(5155),s=a(2115),l=a(1567);let n=(0,s.createContext)(null),i=e=>{let{children:t}=e,[a,i]=(0,s.useState)(!1),[d,o]=(0,s.useState)(""),[c,u]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),t=(0,l.o)(e||"");console.log(t),t&&(o(t?t.role:""),u(t?t.id:"")),i(!!e)},[]),(0,r.jsx)(n.Provider,{value:{isLogin:a,role:d,setRole:o,setIsLogin:i,userId:c,setUserId:u},children:t})},d=()=>{let e=(0,s.useContext)(n);if(null===e)throw Error("useAccount must be used within a AccountProvider");return e}},3765:(e,t,a)=>{"use strict";a.d(t,{U:()=>m});var r=a(5155),s=a(2115),l=a(3518),n=a(6967),i=(a(4858),a(1567)),d=a(3312);let o=e=>{let{className:t,...a}=e;return(0,r.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,i.cn)("mx-auto flex w-full justify-center",t),...a})};o.displayName="Pagination";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("ul",{ref:t,className:(0,i.cn)("flex flex-row items-center gap-1",a),...s})});c.displayName="PaginationContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("li",{ref:t,className:(0,i.cn)("",a),...s})});u.displayName="PaginationItem";let f=e=>{let{className:t,isActive:a,size:s="icon",...l}=e;return(0,r.jsx)("a",{"aria-current":a?"page":void 0,className:(0,i.cn)((0,d.r)({variant:a?"outline":"ghost",size:s}),t),...l})};f.displayName="PaginationLink";let p=e=>{let{className:t,...a}=e;return(0,r.jsxs)(f,{"aria-label":"Go to previous page",size:"default",className:(0,i.cn)("gap-1 pl-2.5",t),...a,children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Previous"})]})};p.displayName="PaginationPrevious";let x=e=>{let{className:t,...a}=e;return(0,r.jsxs)(f,{"aria-label":"Go to next page",size:"default",className:(0,i.cn)("gap-1 pr-2.5",t),...a,children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(n.A,{className:"h-4 w-4"})]})};function m(e){let{totalPages:t,currentPage:a,onPageChange:s}=e,l=1===a,n=a===t,d=e=>{e!==a&&s(e)},m=()=>{l||s(a-1)},h=()=>{n||s(a+1)};return(0,r.jsx)(o,{children:(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{children:(0,r.jsx)(p,{href:"#",onClick:e=>{e.preventDefault(),m()},isActive:l,className:(0,i.cn)("",{"cursor-not-allowed border-none text-muted-foreground hover:bg-transparent hover:text-muted-foreground":l}),children:"Previous"})}),(()=>{let e=[];for(let s=1;s<=t;s++)e.push((0,r.jsx)(u,{children:(0,r.jsx)(f,{href:"#",isActive:s===a,onClick:e=>{e.preventDefault(),d(s)},children:s})},s));return e})(),(0,r.jsx)(u,{children:(0,r.jsx)(x,{href:"#",onClick:e=>{e.preventDefault(),h()},className:(0,i.cn)("",{"cursor-not-allowed border-none text-muted-foreground hover:bg-transparent hover:text-muted-foreground":n}),children:"Next"})})]})})}x.displayName="PaginationNext"},578:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);a(2115);var s=a(7528);function l(e){let{options:t,label:a,setOption:l}=e;return(0,r.jsxs)(s.l6,{onValueChange:e=>{l(e)},children:[(0,r.jsx)(s.bq,{className:"w-[150px] border-gray-600",children:(0,r.jsx)(s.yv,{placeholder:a})}),(0,r.jsx)(s.gC,{children:(0,r.jsxs)(s.s3,{children:[(0,r.jsx)(s.TR,{children:a}),(0,r.jsx)(s.eb,{value:"all",children:"All"},1),t.map((e,t)=>(0,r.jsx)(s.eb,{value:e.id,children:e.name},t))]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[586,913,147,785,813,22,558,899,441,517,358],()=>t(1860)),_N_E=e.O()}]);